CREATE EXTENSION acoustid;
SET client_min_messages TO INFO;
SELECT '{1,2,3}'::acoustid_fingerprint;
 acoustid_fingerprint 
----------------------
 {1,2,3}
(1 row)

CREATE TABLE test_acoustid_fingerprint (
    id serial PRIMARY KEY,
    fingerprint acoustid_fingerprint NOT NULL
);
INSERT INTO test_acoustid_fingerprint (fingerprint) VALUES ('{1,2,3}');
SELECT * FROM test_acoustid_fingerprint;
 id | fingerprint 
----+-------------
  1 | {1,2,3}
(1 row)

SELECT acoustid_fingerprint_decode('AQAAC0mSJJGSJMmSCD_uQzi-4xd-w4HwC4AQcQ4AIohBAA');
                                           acoustid_fingerprint_decode                                           
-----------------------------------------------------------------------------------------------------------------
 {198178303,198047167,164426175,164426173,164417981,156103101,156201469,151941501,151941405,151941407,157184799}
(1 row)

SELECT acoustid_fingerprint_decode_binary(E'\\x0100000b499224919224c992083fee4338bee3177ec381f00b8010710e0022884100'::bytea);
                                       acoustid_fingerprint_decode_binary                                        
-----------------------------------------------------------------------------------------------------------------
 {198178303,198047167,164426175,164426173,164417981,156103101,156201469,151941501,151941405,151941407,157184799}
(1 row)

SELECT acoustid_fingerprint_encode(acoustid_fingerprint_decode('AQAAC0mSJJGSJMmSCD_uQzi-4xd-w4HwC4AQcQ4AIohBAA'));
          acoustid_fingerprint_encode           
------------------------------------------------
 AAAAC0mSJJGSJMmSCD_uQzi-4xd-w4HwC4AQcQ4AIohBAA
(1 row)

SELECT acoustid_fingerprint_encode_binary(acoustid_fingerprint_decode('AQAAC0mSJJGSJMmSCD_uQzi-4xd-w4HwC4AQcQ4AIohBAA'));
                   acoustid_fingerprint_encode_binary                   
------------------------------------------------------------------------
 \x0000000b499224919224c992083fee4338bee3177ec381f00b8010710e0022884100
(1 row)

INSERT INTO test_acoustid_fingerprint (fingerprint) VALUES (acoustid_fingerprint_decode('AQAAC0mSJJGSJMmSCD_uQzi-4xd-w4HwC4AQcQ4AIohBAA'));
SELECT * FROM test_acoustid_fingerprint;
 id |                                                   fingerprint                                                   
----+-----------------------------------------------------------------------------------------------------------------
  1 | {1,2,3}
  2 | {198178303,198047167,164426175,164426173,164417981,156103101,156201469,151941501,151941405,151941407,157184799}
(2 rows)

